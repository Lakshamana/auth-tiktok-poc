<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bulma CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

	<title>User Detail</title>
	<script type="text/javascript">
		window.onload = function () {
			const params = new URLSearchParams(window.location.search)

			document.getElementById("username").innerText = params.get("username") || '{{username}}'
			document.getElementById("like-count").innerText = +params.get("like_count") || 0
			document.getElementById("follower-count").innerText = +params.get("follower_count") || 0
			
			const isVerified = params.get("is_verified")

			if (isVerified === "true") {
				const el = document.getElementById("level-group")
				const verifiedBadge = document.createElement("a")
				verifiedBadge.className = "level-item"
				verifiedBadge.href = "#"
				verifiedBadge.innerHTML = '<span class="icon"><i class="bi bi-patch-check-fill"></i></span>'

				el.insertBefore(verifiedBadge, el.firstChild)
			}
		}
	</script>
</head>
<body>
	<section class="hero is-medium is-info is-fullheight">
		<div class="hero-body">
			<div class="container">
				<p class="title">Hello,</p>
				<article class="media">
					<figure class="media-left">
						<p class="image is-64x64">
							<img src="https://bulma.io/images/placeholders/64x64.png" alt="Image" />
						</p>
					</figure>
					<div class="media-content">
						<div class="content">
							<p class="subtitle" id="username">{{username}}</p>
						</div>
						<nav class="level is-mobile">
							<div class="level-left" id="level-group">
								<a class="level-item" href="#">
									<span class="icon-text">
										<span class="icon"><i class="bi bi-heart-fill" style="color:#D45050"></i></span>
										<span id="like-count">{{like_count}}</span>
									</span>
								</a>
								<a class="level-item" href="#">
									<span class="icon-text">
										<span class="icon"><i class="bi bi-people-fill"></i></span>
										<span id="follower-count">{{follower_count}}</span>
									</span>
								</a>
							</div>
						</nav>
					</div>
				</article>
			</div>
		</div>
	</section>
</body>
</html>
